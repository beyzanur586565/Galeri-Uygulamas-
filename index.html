<!DOCTYPE html>
<html lang="tr">
<head>

    <title> Galeri Uygulamasý</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            transition: background-image 1s ease;
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        .carousel-item img {
            max-height: 600px;
            object-fit: cover;
            cursor: pointer;
            border-radius: 10px;
        }

        #modalTamEkran {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
            text-align: center;
            padding: 20px;
            flex-direction: column;
        }

            #modalTamEkran img {
                max-width: 90%;
                max-height: 60vh;
                margin-bottom: 20px;
                border-radius: 10px;
            }

        .badge {
            font-size: 0.9em;
        }

        .card-body {
            min-height: 150px;
        }

        .kategori-btns button {
            margin-right: 5px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

    <div class="p-5 text-center bg-light rounded-3 mb-4 container">
        <h1 class="display-4 text-primary">Hoþ Geldin!</h1>
        <p class="lead">Bu galeri senin tasarým gücünü yansýtýyor. Favori görsellerini seç, detaylarýný keþfet.</p>
        <button class="btn btn-outline-primary btn-lg" onclick="window.scrollTo(0,600)">Galeriye Göz At</button>
    </div>

    <div class="container bg-white bg-opacity-75 p-4 rounded">
        <div class="alert alert-secondary text-center">
            Toplam <strong>50</strong> görsel var. Son eklenen: <strong>Resim 50</strong>. Favori sayýsý: <span id="favoriSayisi">0</span>
        </div>


        <div class="mb-3">
            <input type="text" class="form-control mb-2" id="arama" placeholder="Baþlýða göre ara...">
            <div class="kategori-btns">
                <button class="btn btn-success btn-sm" onclick="kategoriFiltre('Doða')">Doða</button>
                <button class="btn btn-info btn-sm text-dark" onclick="kategoriFiltre('Þehir')">Þehir</button>
                <button class="btn btn-warning btn-sm text-dark" onclick="kategoriFiltre('Hayvan')">Hayvan</button>
                <button class="btn btn-secondary btn-sm" onclick="kategoriFiltre('Hepsi')">Hepsi</button>
            </div>
        </div>

        <div id="galeriCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
            <div class="carousel-inner" id="carouselIcerik"></div>
            <button class="carousel-control-prev" type="button" data-bs-target="#galeriCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#galeriCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
            </button>
        </div>

        <h4 class="mt-5 text-center">Favorilerim</h4>
        <div id="favoriAlani"></div>
    </div>


    <div id="modalTamEkran">
        <img id="modalResim" src="">
        <p id="modalAciklama" class="mt-3"></p>
        <button class="btn btn-light" onclick="modalKapat()">Geri</button>
    </div>

    <div class="text-center mb-3">
        <button class="btn btn-primary btn-sm" onclick="oncekiArkaPlan()">Önceki Arka Plan</button>
        <button class="btn btn-primary btn-sm" onclick="sonrakiArkaPlan()">Sonraki Arka Plan</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>const carouselIcerik = document.getElementById("carouselIcerik");
        const favoriAlani = document.getElementById("favoriAlani");
        const modalTamEkran = document.getElementById("modalTamEkran");
        const modalResim = document.getElementById("modalResim");
        const modalAciklama = document.getElementById("modalAciklama");
        const favoriSayisi = document.getElementById("favoriSayisi");

        let favoriler = JSON.parse(localStorage.getItem('favoriler')) || [];
        let resimler = [];

        for (let i = 1; i <= 50; i++) {
            const id = 1000 + i;
            const kategori = i % 3 === 0 ? "Doða" : i % 3 === 1 ? "Þehir" : "Hayvan";
            let aciklama = "";

            if (kategori === "Doða") {
                aciklama = `Resim ${i}: Bu doða manzarasýnda yüksek daðlar, berrak göller ve yeþil vadiler bir arada yer almaktadýr. Kuþlarýn cývýltýsý ve hafif rüzgarýn yapraklara dokunuþu huzur dolu bir ortam yaratýr. Ýzleyici, doðanýn sadeliði ve dinginliðini bu karede net þekilde hissedebilir.`;
            } else if (kategori === "Þehir") {
                aciklama = `Resim ${i}: Þehir manzarasýnda geniþ caddeler, yüksek binalar ve hareketli insanlar gözlemlenmektedir. Sokak lambalarý ve vitrin ýþýklarý gecenin karanlýðýnda þehre canlýlýk katar. Trafik ve kalabalýk modern yaþamýn enerjisini yansýtýr ve izleyiciye dinamik bir atmosfer sunar.`;
            } else {
                aciklama = `Resim ${i}: Bu karede doðal ortamýnda bir hayvan dingin bir þekilde dinlenmektedir. Gözleri sakin, tüyleri güneþ ýþýðýnda parlak görünmektedir. Arka plandaki yeþil dokular hayvanýn yaþam alanýný tamamlar ve izleyiciye doðanýn uyumunu hissettirir.`;
            }

            resimler.push({
                id: i,
                baslik: `Resim ${i}`,
                src: `https://picsum.photos/id/${id}/800/400`,
                aciklama: aciklama,
                kategori: kategori
            });
        }


        resimler = resimler.filter(r => r.src);

        function galeriOlustur(liste) {
            carouselIcerik.innerHTML = "";
            let aktifEklendi = false;
            liste.forEach((resim) => {
                const item = document.createElement("div");
                item.className = "carousel-item" + (!aktifEklendi ? " active" : "");
                aktifEklendi = true;
                item.innerHTML = `
                      <img src="${resim.src}" class="d-block w-100" ondblclick="resimBuyut(${resim.id})">
                      <div class="carousel-caption">
                        <h5>${resim.baslik}</h5>
                        <span class="badge ${resim.kategori === 'Doða' ? 'bg-success' : resim.kategori === 'Þehir' ? 'bg-info' : 'bg-warning text-dark'}">${resim.kategori}</span>
                        <button class="btn btn-sm btn-success mt-2" onclick="favoriEkle(${resim.id})">Favoriye Ekle</button>
                      </div>
                    `;
                carouselIcerik.appendChild(item);
            });
        }

        galeriOlustur(resimler);
        favoriListele();

        function favoriEkle(id) {
            const resim = resimler.find(r => r.id === id);
            if (!favoriler.some(f => f.id === id)) {
                favoriler.push(resim);
                favoriListele();
            } else {
                alert("Bu görsel zaten favorilerde.");
            }
        }

        function favoriListele() {
            favoriAlani.innerHTML = "";
            favoriSayisi.innerText = favoriler.length;
            localStorage.setItem('favoriler', JSON.stringify(favoriler));
            favoriler.forEach((resim) => {
                const kart = document.createElement("div");
                kart.className = "card mb-3";
                kart.innerHTML = `
                      <div class="row g-0">
                        <div class="col-md-4">
                          <img src="${resim.src}" class="img-fluid rounded-start">
                        </div>
                        <div class="col-md-8">
                          <div class="card-body">
                            <h5 class="card-title">${resim.baslik}</h5>
                            <p class="card-text">${resim.kategori}</p>
                            <button class="btn btn-sm btn-danger" onclick="favoriSil(${resim.id})">Favoriden Çýkar</button>
                          </div>
                        </div>
                      </div>
                    `;
                favoriAlani.appendChild(kart);
            });
        }

        function favoriSil(id) {
            favoriler = favoriler.filter(r => r.id !== id);
            favoriListele();
        }

        function resimBuyut(id) {
            const resim = resimler.find(r => r.id === id);
            if (resim) {
                modalResim.src = resim.src;
                modalAciklama.innerText = resim.aciklama;
                modalTamEkran.style.display = "flex";
            }
        }

        function modalKapat() {
            modalTamEkran.style.display = "none";
            window.scrollTo(0, 0);
        }

        document.getElementById("arama").addEventListener("input", function () {
            const filtreli = resimler.filter(r => r.baslik.toLowerCase().includes(this.value.toLowerCase()));
            galeriOlustur(filtreli);
        });

        function kategoriFiltre(kat) {
            if (kat === "Hepsi") galeriOlustur(resimler);
            else galeriOlustur(resimler.filter(r => r.kategori === kat));
        }

        const arkaPlanlar = [
            "https://picsum.photos/id/1018/1600/900",
            "https://picsum.photos/id/1020/1600/900",
            "https://picsum.photos/id/1033/1600/900",
            "https://picsum.photos/id/1041/1600/900"
        ];
        let bgIndex = 0;
        document.body.style.backgroundImage = `url('${arkaPlanlar[bgIndex]}')`;
        setInterval(() => {
            bgIndex = (bgIndex + 1) % arkaPlanlar.length;
            document.body.style.backgroundImage = `url('${arkaPlanlar[bgIndex]}')`;
        }, 5000);

        function sonrakiArkaPlan() {
            bgIndex = (bgIndex + 1) % arkaPlanlar.length;
            document.body.style.backgroundImage = `url('${arkaPlanlar[bgIndex]}')`;
        }
        function oncekiArkaPlan() {
            bgIndex = (bgIndex - 1 + arkaPlanlar.length) % arkaPlanlar.length;
            document.body.style.backgroundImage = `url('${arkaPlanlar[bgIndex]}')`;
        }</script>
</body>
</html>
